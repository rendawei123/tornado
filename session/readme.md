### 自定义session

##### 自定制session是怎么做的？

自定制session当时是模仿Django的session来做的，当post请求发送过来之后，如果判断数据库有这个用户的话话，创建一个随机的字符串，然后将随机字符串和用户名以键值对的形式保存下来，并将随机字符串发送给cookie，当下一次访问的时候，获取cookie中的随机字符串，然后再进行判断

##### 用了哪些知识点？

主要用了魔法方法（引出魔法方法），类的多继承（因为会有很多请求都会使用），一致性哈希

##### 分布式是如何实现的？

如果访问量巨大，就采用分布式的方法使用三台服务器共同分担用户的访问，使用了一致性哈希这个模块，根据ip和设置权重，将访问分摊到多台机器

##### 什么是一致性哈希？

了解了一下他的源码，他为了将用户分摊到多台机器，将用户携带的随机字符串转化成数字（比如ascii码），然后给数字对服务器的台数取余，就会得到随机的数字，然后根据这个数字寻找第几台服务器

##### 如何平均分配？

其实没办法做到平均分，但是可以通过设置权重的方法来分配访问的情况，依旧是给某个服务器IP多设置几次